---
title: Logging
sidebar_label: logging
sidebar_position: 13
description: Configuration for setting structured logging options for vCluster.
---

import InterpolatedCodeBlock from '@site/src/components/InterpolatedCodeBlock'
import Logging from '../../_partials/config/logging.mdx'

By default, vCluster creates logs in the control plane pod in console format, which is easy to read and preferred for manual log review. However, you can configure the logging in the control plane pod to JSON format. By enabling the JSON format, logs can be sent to external tools to aggregate logs across multiple virtual clusters to help monitor and troubleshoot these virtual clusters. 

## Log encoding formats

vCluster supports two log encoding formats for the vCluster control plane pod.

- console (_Default_): Human-readable format. Ideal for development and manual log review.
- JSON: Structured format for log aggregation. Ideal for external monitoring and analysis tools. 

### Console format

The console format provides human-readable logs with timestamps, log levels, source locations, and contextual information. The console format is best suited for use cases where users will be troubleshooting a single virtual cluster.  Choose this format in environments where human readability is more important than structured log parsing. Example use cases include:

* Local development and testing, where developers benefit from quick, readable output
* Single virtual cluster analysis, where users will manually review logs and debug in a terminal

```text
2025-06-16 04:43:25	INFO	license	loader/inject.go:52	initializing license...	{"component": "vcluster"}
2025-06-16 04:43:25	INFO	license	loader/inject.go:59	detected license type	{"component": "vcluster", "licenseType": "Online"}
2025-06-16 04:43:29	INFO	online/license.go:141	Enabled features:	{"component": "vcluster"}
2025-06-16 04:43:29	INFO	online/license.go:146	rancher-integration	{"component": "vcluster"}
```

### JSON format

The JSON format structures log data for programmatic processing and integration with log management systems. The JSON format is best suited for use cases where external tools are used to monitor and analyze logs for multiple virtual clusters. Log aggregation tools (e.g. Elasticsearch or Splunk) can ingest these logs to support automated analysis, alerting, and integration with monitoring platforms (e.g. Prometheus and Grafana).  Examples use cases include:

* Product environments where multiple virtual clusters are being monitored and logs from all of them need to be parsed and processed automatically.

```json
{"level":"info","ts":1750160027.442782,"logger":"license","caller":"loader/inject.go:52","msg":"initializing license...","component":"vcluster"}
{"level":"info","ts":1750160027.4497442,"logger":"license","caller":"loader/inject.go:59","msg":"detected license type","component":"vcluster","licenseType":"Online"}
{"level":"info","ts":1750160029.1307533,"caller":"online/license.go:141","msg":"Enabled features:","component":"vcluster"}
{"level":"info","ts":1750160029.1307998,"caller":"online/license.go:146","msg":"connected-clusters","component":"vcluster"}
```

#### JSON log fields

Each JSON log entry contains the following standard fields:

| Field | Type | Description |
|-------|------|-------------|
| `level` | string | Log level (`info`, `warn`, `error`, `debug`) |
| `ts`    | number | Unix timestamp (seconds since epoch) |
| `caller`| string | Source file and line number |
| `msg`   | string | Log message content |
| `component` | string | vCluster component that generated the log |

Additional fields might be displayed based on context and log content.

## Enable log encoding

Logging is enabled in your `vcluster.yaml` configuration file. 



You can enable the JSON format of log encoding.

```yaml 
logging:
  encoding: json
```

If you want to disable the JSON format, you can either remove the `logging` field or explicitly set the console format.

```yaml
logging:
  encoding: console
```

:::note
When changing between encoding formats, the pod will be restarted and all previous logs will be lost. 
:::

## Config reference

<Logging />

